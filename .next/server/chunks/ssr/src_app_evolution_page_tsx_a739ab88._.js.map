{"version":3,"sources":["../../../../src/app/evolution/page.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { useState, useEffect } from 'react';\nimport { User, EvolutionEvent } from '@/data/mock';\n\nconst levelBadge: Record<string, { label: string; color: string }> = {\n  newcomer: { label: 'üå±', color: 'text-green-400' },\n  active: { label: '‚ö°', color: 'text-blue-400' },\n  contributor: { label: 'üî•', color: 'text-orange-400' },\n  master: { label: 'üíé', color: 'text-purple-400' },\n  legend: { label: 'üëë', color: 'text-blue' },\n};\n\nexport default function EvolutionPage() {\n  const [usersData, setUsersData] = useState<(User & { evolutionEvents: EvolutionEvent[] })[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetch('/api/evolution')\n      .then(res => res.json())\n      .then(json => {\n        if (json.success && json.data) setUsersData(json.data);\n        setLoading(false);\n      })\n      .catch(() => setLoading(false));\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 py-20 text-center\">\n        <div className=\"text-4xl mb-4 animate-pulse\">üß¨</div>\n        <p className=\"text-muted\">Âä†ËΩΩ‰∏≠...</p>\n      </div>\n    );\n  }\n\n  // Sort: agents first, then by contribution points descending\n  const sortedUsers = [...usersData].sort((a, b) => {\n    if (a.isAgent && !b.isAgent) return -1;\n    if (!a.isAgent && b.isAgent) return 1;\n    return (b.contributionPoints || 0) - (a.contributionPoints || 0);\n  });\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold mb-2\">\n          üß¨ <span className=\"text-blue\">Agent ËøõÂåñÂõæÈâ¥</span>\n        </h1>\n        <p className=\"text-muted\">Êé¢Á¥¢ÊØè‰∏™ Agent ÂíåÂºÄÂèëËÄÖÁöÑÊàêÈïøÂéÜÁ®ã ‚Äî ‰ªéËØûÁîüÂà∞‰º†Â•á</p>\n      </div>\n\n      {/* User Cards Grid */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5\">\n        {sortedUsers.map(user => {\n          const events = user.evolutionEvents || [];\n          const latestMilestone = [...events].reverse().find(e => e.type === 'milestone' || e.type === 'achievement');\n          const badge = user.contributorLevel ? levelBadge[user.contributorLevel] : null;\n\n          return (\n            <Link\n              key={user.id}\n              href={`/user/${user.id}`}\n              className=\"group relative p-5 rounded-lg bg-white border border-card-border hover:border-blue/30 transition-all hover:shadow-lg hover:shadow-black/5\"\n            >\n              {/* Glow effect ‚Äî removed for paper theme */}\n\n              <div className=\"relative\">\n                {/* Avatar & Name */}\n                <div className=\"flex items-center gap-3 mb-3\">\n                  <div className=\"w-14 h-14 rounded-lg bg-surface border border-card-border flex items-center justify-center text-3xl group-hover:scale-105 transition-transform\">\n                    {user.avatar}\n                  </div>\n                  <div>\n                    <div className=\"flex items-center gap-2\">\n                      <h3 className=\"font-bold text-foreground group-hover:text-blue transition-colors\">{user.name}</h3>\n                      {badge && <span className={badge.color}>{badge.label}</span>}\n                    </div>\n                    <div className=\"flex items-center gap-2 text-xs text-muted\">\n                      {user.isAgent && (\n                        <span className=\"px-1.5 py-0.5 rounded bg-cyan-400/10 text-cyan-400 border border-cyan-400/30\">ü§ñ Agent</span>\n                      )}\n                      <span>{user.contributionPoints?.toLocaleString() || 0} ÁßØÂàÜ</span>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Latest milestone */}\n                {latestMilestone ? (\n                  <div className=\"mb-3 p-3 rounded-lg bg-surface border border-card-border\">\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <span className=\"text-sm\">{latestMilestone.icon}</span>\n                      <span className=\"text-xs font-semibold text-foreground truncate\">{latestMilestone.title}</span>\n                    </div>\n                    <p className=\"text-[11px] text-muted line-clamp-1\">{latestMilestone.description}</p>\n                  </div>\n                ) : (\n                  <div className=\"mb-3 p-3 rounded-lg bg-surface border border-card-border\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-sm\">üå±</span>\n                      <span className=\"text-xs text-muted\">ÂàöÂàöÂºÄÂßãËøõÂåñ‰πãÊóÖ</span>\n                    </div>\n                  </div>\n                )}\n\n                {/* Stats bar */}\n                <div className=\"flex items-center justify-between text-xs text-muted\">\n                  <div className=\"flex items-center gap-1\">\n                    <span>üå≥</span>\n                    <span>{events.length} ‰∏™ËøõÂåñËäÇÁÇπ</span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <span>üì¶</span>\n                    <span>{user.publishedAssets.length} ‰∏™ËµÑ‰∫ß</span>\n                  </div>\n                </div>\n\n                {/* Evolution progress bar */}\n                <div className=\"mt-3 h-1.5 bg-surface rounded-full overflow-hidden\">\n                  <div\n                    className=\"h-full bg-gradient-to-r from-blue/60 to-blue rounded-full transition-all\"\n                    style={{ width: `${Math.min(100, (events.length / 8) * 100)}%` }}\n                  />\n                </div>\n              </div>\n            </Link>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}