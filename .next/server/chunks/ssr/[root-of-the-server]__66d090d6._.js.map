{"version":3,"sources":["../../../../src/app/search/client.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/search/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/search/client.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/search/client.tsx\",\n    \"default\",\n);\n","import { listAssets, searchUserProfiles, searchIssues } from '@/lib/db';\nimport SearchClientPage from './client';\nimport type { Metadata } from 'next';\n\nexport const metadata: Metadata = {\n  title: '搜索 — 水产市场',\n  description: '搜索水产市场中的资产、用户和 Issues',\n  openGraph: {\n    title: '搜索 — 水产市场',\n    description: '搜索水产市场中的资产、用户和 Issues',\n    type: 'website',\n  },\n};\n\nexport default async function SearchPage({ searchParams }: { searchParams: Promise<{ q?: string }> }) {\n  const { q } = await searchParams;\n  const query = q?.trim() || '';\n\n  let assets: ReturnType<typeof listAssets>['assets'] = [];\n  let users: ReturnType<typeof searchUserProfiles> = [];\n  let issues: ReturnType<typeof searchIssues> = [];\n\n  if (query) {\n    const dbResult = listAssets({ q: query, pageSize: 50 });\n    assets = dbResult.assets;\n    users = searchUserProfiles(query);\n    issues = searchIssues(query);\n  }\n\n  return (\n    <SearchClientPage\n      initialAssets={assets}\n      initialUsers={users}\n      initialIssues={issues}\n      initialQuery={query}\n    />\n  );\n}\n"],"names":[],"mappings":"mdAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,2RAA6R,EAC1T,0DACA,gEAHW,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,uQAAyQ,EACtS,sCACA,8GCLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAae,eAAe,EAAW,cAAE,CAAY,CAA6C,EAClG,GAAM,CAAE,GAAC,CAAE,CAAG,MAAM,EACd,EAAQ,GAAG,QAAU,GAEvB,EAAkD,EAAE,CACpD,EAA+C,EAAE,CACjD,EAA0C,EAAE,CAShD,OAPI,IAEF,EAAS,AADQ,CADR,AACQ,EAAA,EAAA,UAAA,AAAU,EAAC,CAAE,EAAG,EAAO,SAAU,EAAG,GACnC,MAAM,CACxB,EAAQ,CAAA,EAAA,EAAA,kBAAA,AAAkB,EAAC,GAC3B,EAAS,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,IAItB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAgB,CAAA,CACf,cAAe,EACf,aAAc,EACd,cAAe,EACf,aAAc,GAGpB,mCAjCkC,CAChC,MAAO,YACP,YAAa,wBACb,UAAW,CACT,MAAO,YACP,YAAa,wBACb,KAAM,SACR,CACF","ignoreList":[0]}