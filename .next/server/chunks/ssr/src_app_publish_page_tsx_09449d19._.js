module.exports=[14324,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(74568),g=a.i(60721);let h=["ä¿¡æ¯æŸ¥è¯¢","å¼€å‘å·¥å…·","åˆ›æ„ç”Ÿæˆ","æ•°æ®å¤„ç†","æ•ˆç‡å·¥å…·","è¯­è¨€å¤„ç†","åˆ›æ„è§’è‰²","æ•™è‚²è¾…å¯¼","å•†ä¸šé¡¾é—®","è¶£å‘³è§’è‰²","å­˜å‚¨å¼•æ“","é€šä¿¡é›†æˆ","åŸºç¡€è®¾æ–½","å®‰å…¨è®¤è¯","è‡ªåŠ¨åŒ–","è¯­éŸ³å¤„ç†","äº‹ä»¶è§¦å‘","çŸ¥è¯†å·¥ä½œ","å†…å®¹åˆ›ä½œ","å¼€å‘è¿ç»´","å®¢æˆ·æœåŠ¡","Agent æ¨¡æ¿"];function i({current:a,max:c}){let d=a/c;return(0,b.jsxs)("span",{className:`text-xs font-mono ${d>1?"text-red":d>.8?"text-amber-400":"text-muted"}`,children:[a,"/",c]})}function j(){let a=(0,d.useRouter)(),{user:j}=(0,g.useAuth)(),[k,l]=(0,c.useState)("skill"),[m,n]=(0,c.useState)("persona"),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)("");(0,c.useEffect)(()=>{j&&!A&&B(j.id)},[j,A]);let I=(0,c.useMemo)(()=>u.split(",").map(a=>a.trim()).filter(Boolean).slice(0,5),[u]),J=o.trim().length>0&&q.trim().length>0&&s.trim().length>0&&s.length<=200&&o.length<=40,K=async b=>{if(b.preventDefault(),J&&!E){F(!0),H("");try{let b=await fetch("/api/assets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.trim(),displayName:q.trim(),type:k,description:s.trim(),version:"1.0.0",longDescription:s.trim(),tags:I,category:y||void 0,readme:w.trim()||void 0,configSubtype:"config"===k?m:void 0,authorId:A.trim()||j?.id||void 0,authorName:j?.name||void 0,authorAvatar:j?.avatar||void 0})}),c=await b.json();if(!c.success){H(c.error||"å‘å¸ƒå¤±è´¥"),F(!1);return}D(!0),setTimeout(()=>{a.push(`/asset/${c.data.id}`)},1500)}catch{H("ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•"),F(!1)}}};return(0,b.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["å‘å¸ƒ",(0,b.jsx)("span",{className:"text-blue",children:"èµ„äº§"})]}),(0,b.jsx)("p",{className:"text-muted",children:"åˆ†äº«ä½ çš„ Skillsã€Configs æˆ– Pluginsï¼Œè®©å…¨ä¸–ç•Œçš„ Agent å—ç›Š"})]}),j&&!j.inviteCode&&(0,b.jsxs)("div",{className:"mb-8 p-6 rounded-lg bg-amber-50 border border-amber-200 text-center",children:[(0,b.jsx)("div",{className:"text-4xl mb-3",children:"ğŸŸï¸"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-amber-800 mb-2",children:"éœ€è¦é‚€è¯·ç "}),(0,b.jsx)("p",{className:"text-sm text-amber-700 mb-4",children:"ä½ éœ€è¦å…ˆæ¿€æ´»é‚€è¯·ç æ‰èƒ½å‘å¸ƒèµ„äº§ã€‚é‚€è¯·ç å¯ä»¥ä»ç¤¾åŒºè·å–ã€‚"}),(0,b.jsx)(e.default,{href:"/settings",className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-lg bg-blue text-white text-sm font-medium hover:bg-blue-dim transition-colors",children:"ğŸŸï¸ å»æ¿€æ´»é‚€è¯·ç "})]}),(!j||j.inviteCode)&&(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,b.jsxs)("form",{onSubmit:K,className:"flex-1 space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider mb-3",children:"é€‰æ‹©èµ„äº§ç±»å‹"}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{value:"skill",label:"æŠ€èƒ½",icon:"",desc:"è®© Agent è·å¾—æ–°èƒ½åŠ›çš„æŠ€èƒ½åŒ…"},{value:"config",label:"é…ç½®",icon:"",desc:"å®šä¹‰ Agent äººæ ¼ä¸è¡Œä¸ºæ¨¡å¼"},{value:"plugin",label:"å·¥å…·",icon:"",desc:"æ‰©å±• Agent åŸºç¡€è®¾æ–½çš„å·¥å…·"},{value:"trigger",label:"è§¦å‘å™¨",icon:"",desc:"äº‹ä»¶ç›‘å¬ä¸æ¡ä»¶è§¦å‘æ¨¡æ¿"},{value:"channel",label:"é€šä¿¡å™¨",icon:"",desc:"è¿æ¥ Agent ä¸å¤–éƒ¨ä¸–ç•Œ"},{value:"template",label:"åˆé›†",icon:"",desc:"å®Œæ•´ Agent é…ç½®åˆé›†"}].map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>l(a.value),className:`p-4 rounded-lg border text-left transition-all ${k===a.value?`${f.typeConfig[a.value].bgColor} ${f.typeConfig[a.value].borderColor}`:"border-card-border bg-white hover:border-card-hover"}`,children:[(0,b.jsx)("div",{className:"text-2xl mb-2",children:a.icon}),(0,b.jsx)("div",{className:`font-semibold mb-1 ${k===a.value?f.typeConfig[a.value].color:"text-foreground"}`,children:a.label}),(0,b.jsx)("div",{className:"text-xs text-muted",children:a.desc})]},a.value))})]}),"config"===k&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider mb-3",children:"Config å­ç±»å‹"}),(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{value:"persona",label:"äººæ ¼",desc:"Agent äººæ ¼ä¸å¯¹è¯é£æ ¼"},{value:"routing",label:"è·¯ç”±",desc:"è¯·æ±‚è·¯ç”±ä¸åˆ†å‘è§„åˆ™"},{value:"model",label:"æ¨¡å‹",desc:"æ¨¡å‹é€‰æ‹©ä¸å‚æ•°é…ç½®"},{value:"scope",label:"æƒé™",desc:"è®¿é—®èŒƒå›´ä¸æƒé™ç­–ç•¥"}].map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>n(a.value),className:`p-3 rounded-lg border text-left transition-all ${m===a.value?"bg-red/10 border-red/30 text-red":"border-card-border bg-white hover:border-card-hover text-muted"}`,children:[(0,b.jsx)("div",{className:"text-sm font-semibold mb-0.5",children:a.label}),(0,b.jsx)("div",{className:"text-[10px] opacity-70",children:a.desc})]},a.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider",children:"ä¸­æ–‡åç§°"}),(0,b.jsx)(i,{current:q.length,max:60})]}),(0,b.jsx)("input",{type:"text",value:q,onChange:a=>r(a.target.value.slice(0,60)),placeholder:"ğŸ“‚ æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶ç›‘å¬å™¨",className:"w-full px-4 py-3 rounded-lg bg-white border border-card-border text-foreground placeholder:text-muted/50 focus:outline-none focus:border-blue/50 transition-colors"}),(0,b.jsx)("p",{className:"text-xs text-muted mt-1.5",children:"ç”¨æˆ·çœ‹åˆ°çš„åå­—ï¼Œæ”¯æŒ emoji å‰ç¼€"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider",children:["åŒ…å ",(0,b.jsx)("span",{className:"normal-case font-normal text-muted/60",children:"(Package Name)"})]}),(0,b.jsx)(i,{current:o.length,max:40})]}),(0,b.jsxs)("div",{className:"flex items-center gap-0 rounded-lg overflow-hidden border border-card-border bg-white focus-within:border-blue/50 transition-colors",children:[(0,b.jsxs)("span",{className:"px-4 py-3 bg-surface text-muted text-sm border-r border-card-border font-mono",children:["@",A||"username","/"]}),(0,b.jsx)("input",{type:"text",value:o,onChange:a=>p(a.target.value.replace(/[^a-z0-9-]/g,"").slice(0,40)),placeholder:"fs-event-trigger",className:"flex-1 px-4 py-3 bg-transparent text-foreground placeholder:text-muted/50 focus:outline-none font-mono text-sm"})]}),(0,b.jsx)("p",{className:"text-xs text-muted mt-1.5",children:"å°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦ï¼Œç”¨äºå®‰è£…å‘½ä»¤"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,b.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider",children:"Author ID"})}),(0,b.jsx)("input",{type:"text",value:A,onChange:a=>B(a.target.value.replace(/[^a-z0-9_-]/g,"").slice(0,40)),placeholder:"xiaoyue",className:"w-full px-4 py-3 rounded-lg bg-white border border-card-border text-foreground placeholder:text-muted/50 focus:outline-none focus:border-blue/50 transition-colors font-mono text-sm"}),(0,b.jsx)("p",{className:"text-xs text-muted mt-1.5",children:"ç”¨äºå”¯ä¸€æ ‡è¯†ä½œè€…èº«ä»½ï¼Œå¦‚ GitHub username"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider",children:"ç®€ä»‹"}),(0,b.jsx)(i,{current:s.length,max:200})]}),(0,b.jsx)("textarea",{value:s,onChange:a=>t(a.target.value.slice(0,220)),placeholder:"ä¸€å¥è¯æè¿°ä½ çš„èµ„äº§...",rows:2,className:`w-full px-4 py-3 rounded-lg bg-white border text-foreground placeholder:text-muted/50 focus:outline-none transition-colors resize-none ${s.length>200?"border-red/50 focus:border-red/70":"border-card-border focus:border-blue/50"}`})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider mb-2",children:"åˆ†ç±»"}),(0,b.jsxs)("select",{value:y,onChange:a=>z(a.target.value),className:"w-full px-4 py-3 rounded-lg bg-white border border-card-border text-foreground focus:outline-none focus:border-blue/50 transition-colors cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"é€‰æ‹©åˆ†ç±»..."}),h.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider",children:"æ ‡ç­¾"}),(0,b.jsx)(i,{current:u.length,max:100})]}),(0,b.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value.slice(0,100)),placeholder:"ç”¨é€—å·åˆ†éš”ï¼Œä¾‹å¦‚: search, web, api",className:"w-full px-4 py-3 rounded-lg bg-white border border-card-border text-foreground placeholder:text-muted/50 focus:outline-none focus:border-blue/50 transition-colors"}),I.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-1.5 mt-2",children:I.map(a=>(0,b.jsxs)("span",{className:"text-xs px-2 py-0.5 rounded bg-surface text-muted border border-card-border",children:["#",a]},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider mb-2",children:"ä¸Šä¼ æ–‡ä»¶"}),(0,b.jsxs)("div",{className:"border-2 border-dashed border-card-border rounded-lg p-8 text-center hover:border-blue/30 transition-colors cursor-pointer group",children:[(0,b.jsx)("div",{className:"text-4xl mb-3 group-hover:scale-110 transition-transform",children:"ğŸ“"}),(0,b.jsx)("p",{className:"text-sm text-muted mb-1",children:"æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„ï¼Œæˆ–ç‚¹å‡»é€‰æ‹©"}),(0,b.jsx)("p",{className:"text-xs text-muted/50",children:"æ”¯æŒ .zip, .tar.gz, .tgzï¼ˆæœ€å¤§ 50MBï¼‰"}),(0,b.jsx)("input",{type:"file",className:"hidden",accept:".zip,.tar.gz,.tgz"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider mb-2",children:"README (Markdown)"}),(0,b.jsx)("p",{className:"text-xs text-muted mb-2",children:"æ”¯æŒå®Œæ•´ Markdown è¯­æ³•ï¼ŒåŒ…æ‹¬è¡¨æ ¼ã€å›¾ç‰‡ã€ä»£ç å—"}),(0,b.jsx)("textarea",{value:w,onChange:a=>x(a.target.value),placeholder:`# ${q||"ä¸­æ–‡åç§°"}
${o?`**${o}**`:"**package-name**"} â€” ${q||"ä¸­æ–‡åç§°"}

## æ¦‚è¿°
æè¿°ä½ çš„èµ„äº§åšä»€ä¹ˆ...

## å®‰è£…
\`\`\`bash
seafood-market install ${k}/@${A||"username"}/${o||"package-name"}
\`\`\`

## ä½¿ç”¨æ–¹æ³•
...

## åŠŸèƒ½ç‰¹æ€§
| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| ... | ... |

## æˆªå›¾
![ç¤ºä¾‹](https://example.com/screenshot.png)`,rows:14,className:"w-full px-4 py-3 rounded-lg bg-white border border-card-border text-foreground placeholder:text-muted/50 focus:outline-none focus:border-blue/50 transition-colors resize-y font-mono text-sm"})]}),(0,b.jsxs)("div",{className:"space-y-3 pt-4",children:[G&&(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-red/10 border border-red/30 text-red text-sm",children:["âŒ ",G]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{type:"submit",disabled:!J||E,className:"flex-1 sm:flex-none px-8 py-3 rounded-md bg-blue text-white font-bold hover:bg-blue-dim transition-colors text-sm disabled:opacity-40 disabled:cursor-not-allowed",children:E?"â³ å‘å¸ƒä¸­...":C?"âœ“ å‘å¸ƒæˆåŠŸï¼":"ğŸš€ å‘å¸ƒèµ„äº§"}),(0,b.jsx)("button",{type:"button",className:"px-6 py-3 rounded-md border border-card-border text-muted hover:text-foreground hover:border-blue/30 transition-colors text-sm",children:"å­˜ä¸ºè‰ç¨¿"})]})]})]}),(0,b.jsx)("aside",{className:"lg:w-80 shrink-0",children:(0,b.jsxs)("div",{className:"sticky top-24",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-muted uppercase tracking-wider mb-3",children:"å®æ—¶é¢„è§ˆ"}),(0,b.jsxs)("div",{className:"rounded-lg border border-card-border bg-white p-5 overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("span",{className:`text-xs px-2 py-0.5 rounded-full border ${f.typeConfig[k].bgColor} ${f.typeConfig[k].borderColor} ${f.typeConfig[k].color}`,children:[f.typeConfig[k].icon," ",f.typeConfig[k].label]}),(0,b.jsx)("span",{className:"text-xs text-muted font-mono",children:"v1.0.0"})]}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-1 text-blue",children:q||"ğŸ“¦ ä¸­æ–‡åç§°"}),o&&(0,b.jsxs)("div",{className:"text-xs font-mono text-muted/60 mb-2",children:["@",A||"username","/",o]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 mb-3",children:[(0,b.jsx)("span",{className:"text-sm",children:"ğŸ¤–"}),(0,b.jsx)("span",{className:"text-xs text-muted",children:"CyberNova"})]}),(0,b.jsx)("p",{className:"text-sm text-muted mb-4 line-clamp-2 leading-relaxed",children:s||"åœ¨è¿™é‡Œè¾“å…¥ä½ çš„èµ„äº§ç®€ä»‹..."}),I.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[I.slice(0,3).map(a=>(0,b.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-surface text-muted border border-card-border",children:a},a)),I.length>3&&(0,b.jsxs)("span",{className:"text-xs px-2 py-0.5 text-muted",children:["+",I.length-3]})]}),o&&(0,b.jsxs)("div",{className:"mt-4 pt-3 border-t border-card-border",children:[(0,b.jsx)("div",{className:"text-[10px] text-muted mb-1",children:"å®‰è£…å‘½ä»¤"}),(0,b.jsxs)("code",{className:"text-xs font-mono text-blue bg-surface px-2 py-1 rounded block truncate",children:["seafood-market install ",k,"/@",A||"username","/",o]})]})]}),(0,b.jsxs)("div",{className:"mt-4 p-4 rounded-lg border border-card-border bg-white",children:[(0,b.jsx)("h4",{className:"text-xs font-semibold text-muted uppercase tracking-wider mb-3",children:"å‘å¸ƒæ£€æŸ¥"}),(0,b.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:o.trim()?"text-green-500":"text-muted",children:o.trim()?"âœ“":"â—‹"}),(0,b.jsx)("span",{className:o.trim()?"text-foreground":"text-muted",children:"åŒ…å"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:A.trim()?"text-green-500":"text-muted",children:A.trim()?"âœ“":"â—‹"}),(0,b.jsx)("span",{className:A.trim()?"text-foreground":"text-muted",children:"Author ID"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:q.trim()?"text-green-500":"text-muted",children:q.trim()?"âœ“":"â—‹"}),(0,b.jsx)("span",{className:q.trim()?"text-foreground":"text-muted",children:"ä¸­æ–‡åç§°"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:s.trim()&&s.length<=200?"text-green-500":s.length>200?"text-red":"text-muted",children:s.trim()&&s.length<=200?"âœ“":s.length>200?"âœ•":"â—‹"}),(0,b.jsx)("span",{className:s.trim()?"text-foreground":"text-muted",children:"ç®€ä»‹"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:y?"text-green-500":"text-muted",children:y?"âœ“":"â—‹"}),(0,b.jsx)("span",{className:y?"text-foreground":"text-muted",children:"åˆ†ç±»"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:I.length>0?"text-green-500":"text-muted",children:I.length>0?"âœ“":"â—‹"}),(0,b.jsx)("span",{className:I.length>0?"text-foreground":"text-muted",children:"æ ‡ç­¾"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:w.trim()?"text-green-500":"text-muted",children:w.trim()?"âœ“":"â—‹"}),(0,b.jsx)("span",{className:w.trim()?"text-foreground":"text-muted",children:"README"})]})]})]})]})})]}),C&&(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-paper/80 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"p-8 rounded-lg bg-white border border-blue/30 text-center max-w-md mx-4",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ğŸ‰"}),(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"å‘å¸ƒæˆåŠŸï¼"}),(0,b.jsx)("p",{className:"text-muted",children:"æ­£åœ¨è·³è½¬åˆ°èµ„äº§è¯¦æƒ…é¡µ..."})]})})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=src_app_publish_page_tsx_09449d19._.js.map