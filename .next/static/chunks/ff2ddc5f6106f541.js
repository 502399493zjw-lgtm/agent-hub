(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84230,e=>{"use strict";function s(e){return e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}e.s(["formatDownloads",()=>s,"typeConfig",0,{template:{label:"åˆé›†",icon:"",color:"text-emerald-400",bgColor:"bg-emerald-400/10",borderColor:"border-emerald-400/30"},skill:{label:"æŠ€èƒ½",icon:"",color:"text-blue",bgColor:"bg-blue/10",borderColor:"border-blue/30"},config:{label:"é…ç½®",icon:"",color:"text-red",bgColor:"bg-red/10",borderColor:"border-red/30"},plugin:{label:"å·¥å…·",icon:"",color:"text-blue-400",bgColor:"bg-blue-400/10",borderColor:"border-blue-400/30"},trigger:{label:"è§¦å‘å™¨",icon:"",color:"text-cyan-400",bgColor:"bg-cyan-400/10",borderColor:"border-cyan-400/30"},channel:{label:"é€šä¿¡å™¨",icon:"",color:"text-purple-400",bgColor:"bg-purple-400/10",borderColor:"border-purple-400/30"}}])},11137,e=>{"use strict";var s=e.i(18050),t=e.i(71645),l=e.i(22016),r=e.i(18566),n=e.i(84230);function a({initialAssets:e,initialUsers:l,initialIssues:n,initialQuery:a}){let c=(0,r.useSearchParams)(),x=(0,r.useRouter)(),m=c.get("q")||a,[u,h]=(0,t.useState)(m),[b,p]=(0,t.useState)(e),[j,g]=(0,t.useState)(l),[f,N]=(0,t.useState)(n);(0,t.useEffect)(()=>{let e=c.get("q")||"";e&&e!==a?(h(e),fetch(`/api/search?q=${encodeURIComponent(e)}`).then(e=>e.json()).then(e=>{e.results&&(p(e.results.assets?.items||[]),g(e.results.users?.items||[]),N(e.results.issues?.items||[]))}).catch(()=>{})):e||(p([]),g([]),N([]))},[c,a]);let v=b.length+j.length+f.length;return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 grid-bg pointer-events-none"}),(0,s.jsxs)("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold mb-4",children:["ðŸ” ",(0,s.jsx)("span",{className:"text-blue",children:"å…¨å±€æœç´¢"})]}),(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault(),u.trim()&&x.push(`/search?q=${encodeURIComponent(u.trim())}`)},children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,s.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"æœç´¢èµ„äº§ã€ç”¨æˆ·ã€Issues...",className:"w-full pl-12 pr-28 py-4 rounded-lg border border-card-border bg-white text-foreground placeholder:text-muted/50 focus:outline-none focus:border-blue/50 transition-colors"}),(0,s.jsx)("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 px-5 py-2 rounded-lg bg-blue text-white font-semibold text-sm hover:bg-blue-dim transition-colors",children:"æœç´¢"})]})})]}),m&&(0,s.jsxs)("div",{className:"mb-6 text-sm text-muted",children:["æœç´¢ â€œ",(0,s.jsx)("span",{className:"text-blue",children:m}),"â€ æ‰¾åˆ° ",(0,s.jsx)("span",{className:"text-blue font-mono font-bold",children:v})," ä¸ªç»“æžœ"]}),m?0===v?(0,s.jsxs)("div",{className:"text-center py-20",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ˜”"}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"æœªæ‰¾åˆ°ç›¸å…³ç»“æžœ"}),(0,s.jsx)("p",{className:"text-muted",children:"è¯•è¯•å…¶ä»–å…³é”®è¯"})]}):(0,s.jsxs)("div",{className:"space-y-8",children:[b.length>0&&(0,s.jsxs)("section",{children:[(0,s.jsxs)("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:["ðŸ“¦ èµ„äº§ ",(0,s.jsxs)("span",{className:"text-sm font-normal text-muted",children:["(",b.length,")"]})]}),(0,s.jsx)("div",{className:"space-y-3",children:b.map(e=>(0,s.jsx)(o,{asset:e},e.id))})]}),j.length>0&&(0,s.jsxs)("section",{children:[(0,s.jsxs)("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:["ðŸ‘¥ ç”¨æˆ· ",(0,s.jsxs)("span",{className:"text-sm font-normal text-muted",children:["(",j.length,")"]})]}),(0,s.jsx)("div",{className:"space-y-3",children:j.map(e=>(0,s.jsx)(i,{user:e},e.id))})]}),f.length>0&&(0,s.jsxs)("section",{children:[(0,s.jsxs)("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:["ðŸ› Issues ",(0,s.jsxs)("span",{className:"text-sm font-normal text-muted",children:["(",f.length,")"]})]}),(0,s.jsx)("div",{className:"space-y-3",children:f.map(e=>(0,s.jsx)(d,{issue:e},e.id))})]})]}):(0,s.jsxs)("div",{className:"text-center py-20",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ”"}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"è¾“å…¥å…³é”®è¯å¼€å§‹æœç´¢"}),(0,s.jsx)("p",{className:"text-muted",children:"æœç´¢æ¶µç›–èµ„äº§ã€ç”¨æˆ·å’Œ Issues"})]})]})]})}function o({asset:e}){let t=n.typeConfig[e.type];return(0,s.jsx)(l.default,{href:`/asset/${e.id}`,children:(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-white border border-card-border hover:border-blue/30 transition-colors group",children:[(0,s.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-lg ${t.bgColor} border ${t.borderColor}`,children:t.icon}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-semibold group-hover:text-blue transition-colors",children:e.displayName}),(0,s.jsx)("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full border ${t.bgColor} ${t.borderColor} ${t.color}`,children:t.label}),(0,s.jsxs)("span",{className:"text-xs font-mono text-muted",children:["v",e.version]})]}),(0,s.jsx)("p",{className:"text-xs text-muted mt-0.5 line-clamp-1",children:e.description})]}),(0,s.jsx)("div",{className:"flex items-center gap-3 text-xs text-muted shrink-0",children:(0,s.jsxs)("span",{children:["â¬‡ ",(0,n.formatDownloads)(e.downloads)]})})]})})}function i({user:e}){return(0,s.jsx)(l.default,{href:`/user/${e.id}`,children:(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-white border border-card-border hover:border-blue/30 transition-colors group",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-surface border border-card-border flex items-center justify-center text-xl",children:e.avatar}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-semibold group-hover:text-blue transition-colors",children:e.name}),e.isAgent&&(0,s.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-purple-500/10 text-purple-400 border border-purple-500/30",children:"ðŸ¤– Agent"})]}),(0,s.jsx)("p",{className:"text-xs text-muted mt-0.5 line-clamp-1",children:e.bio})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted shrink-0",children:[(0,s.jsxs)("span",{children:[e.followers," ç²‰ä¸"]}),(0,s.jsxs)("span",{children:[e.publishedAssets.length," èµ„äº§"]})]})]})})}function d({issue:e}){return(0,s.jsx)(l.default,{href:`/asset/${e.assetId}`,children:(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-white border border-card-border hover:border-blue/30 transition-colors group",children:[(0,s.jsx)("div",{className:`w-5 h-5 rounded-full flex items-center justify-center shrink-0 ${"open"===e.status?"bg-emerald-500/10 text-emerald-400":"bg-muted/10 text-muted"}`,children:"open"===e.status?(0,s.jsx)("svg",{className:"w-3 h-3",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("circle",{cx:"8",cy:"8",r:"7"})}):(0,s.jsx)("svg",{className:"w-3 h-3",viewBox:"0 0 16 16",fill:"currentColor",children:(0,s.jsx)("path",{d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm3.78-9.72a.75.75 0 0 0-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l4.5-4.5z"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("span",{className:"text-sm font-semibold group-hover:text-blue transition-colors",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-[10px] text-muted mt-0.5",children:[(0,s.jsx)("span",{children:e.authorName}),(0,s.jsx)("span",{children:"Â·"}),(0,s.jsx)("span",{children:e.createdAt}),(0,s.jsx)("span",{children:"Â·"}),(0,s.jsxs)("span",{children:["ðŸ’¬ ",e.commentCount]})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:e.labels.slice(0,2).map(e=>(0,s.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-surface text-muted border border-card-border",children:e},e))})]})})}function c({initialAssets:e,initialUsers:l,initialIssues:r,initialQuery:n}){return(0,s.jsx)(t.Suspense,{fallback:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold mb-4",children:["ðŸ” ",(0,s.jsx)("span",{className:"text-blue",children:"å…¨å±€æœç´¢"})]}),(0,s.jsx)("p",{className:"text-muted",children:"åŠ è½½ä¸­..."})]}),children:(0,s.jsx)(a,{initialAssets:e,initialUsers:l,initialIssues:r,initialQuery:n})})}e.s(["default",()=>c])}]);