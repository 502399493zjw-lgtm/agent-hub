(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84230,e=>{"use strict";function l(e){return e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}e.s(["formatDownloads",()=>l,"typeConfig",0,{template:{label:"åˆé›†",icon:"",color:"text-emerald-400",bgColor:"bg-emerald-400/10",borderColor:"border-emerald-400/30"},skill:{label:"æŠ€èƒ½",icon:"",color:"text-blue",bgColor:"bg-blue/10",borderColor:"border-blue/30"},config:{label:"é…ç½®",icon:"",color:"text-red",bgColor:"bg-red/10",borderColor:"border-red/30"},plugin:{label:"å·¥å…·",icon:"",color:"text-blue-400",bgColor:"bg-blue-400/10",borderColor:"border-blue-400/30"},trigger:{label:"è§¦å‘å™¨",icon:"",color:"text-cyan-400",bgColor:"bg-cyan-400/10",borderColor:"border-cyan-400/30"},channel:{label:"é€šä¿¡å™¨",icon:"",color:"text-purple-400",bgColor:"bg-purple-400/10",borderColor:"border-purple-400/30"}}])},53950,e=>{"use strict";var l=e.i(18050),s=e.i(22016),t=e.i(84230);function r({downloads:e}){return(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,l.jsx)("svg",{className:"w-3.5 h-3.5 text-blue",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),(0,l.jsx)("span",{className:"text-sm font-bold font-mono text-foreground",children:(0,t.formatDownloads)(e)}),(0,l.jsx)("span",{className:"text-[10px] text-muted",children:"å®‰è£…"})]})}function a({asset:e}){let a=t.typeConfig[e.type],n=e.author.id.startsWith("agent-")||"xiaoyue"===e.author.id;return(0,l.jsx)(s.default,{href:`/asset/${e.id}`,children:(0,l.jsxs)("div",{className:`group relative rounded-lg border bg-white p-5 card-hover cursor-pointer overflow-hidden shadow-[0_1px_3px_rgba(0,0,0,0.04)] ${n?"border-purple-500/20":"border-card-border"}`,children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsxs)("span",{className:`text-xs px-2 py-0.5 rounded-full border ${a.bgColor} ${a.borderColor} ${a.color}`,children:[a.icon," ",a.label]})}),(0,l.jsxs)("span",{className:"text-xs text-muted font-mono",children:["v",e.version]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-1.5 group-hover:text-blue transition-colors",children:e.displayName}),(0,l.jsxs)("div",{className:"flex items-center gap-1.5 mb-3",children:[(0,l.jsx)("span",{className:"text-sm",children:e.author.avatar}),(0,l.jsx)("span",{className:"text-xs text-muted",children:e.author.name}),n&&(0,l.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-purple-500/10 text-purple-400 border border-purple-500/30",children:"ðŸ¤– Agent"})]}),(0,l.jsx)("p",{className:"text-sm text-muted mb-4 line-clamp-2 leading-relaxed",children:e.description}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[e.tags.slice(0,3).map(e=>(0,l.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-surface text-muted border border-card-border",children:e},e)),e.tags.length>3&&(0,l.jsxs)("span",{className:"text-xs px-2 py-0.5 text-muted",children:["+",e.tags.length-3]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-card-border",children:[(0,l.jsx)(r,{downloads:e.downloads}),(0,l.jsx)("div",{className:"flex items-center gap-1 text-xs text-muted",children:e.rating>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-yellow-400",children:"â˜…"}),(0,l.jsx)("span",{children:e.rating.toFixed(1)})]})})]})]})})}e.s(["AssetCard",()=>a])},59206,e=>{"use strict";var l=e.i(18050),s=e.i(71645),t=e.i(18566),r=e.i(53950);let a=["å…¨éƒ¨","ä¿¡æ¯æŸ¥è¯¢","å¼€å‘å·¥å…·","åˆ›æ„ç”Ÿæˆ","æ•°æ®å¤„ç†","æ•ˆçŽ‡å·¥å…·","è¯­è¨€å¤„ç†","åˆ›æ„è§’è‰²","æ•™è‚²è¾…å¯¼","å•†ä¸šé¡¾é—®","è¶£å‘³è§’è‰²","å­˜å‚¨å¼•æ“Ž","é€šä¿¡é›†æˆ","åŸºç¡€è®¾æ–½","å®‰å…¨è®¤è¯","è‡ªåŠ¨åŒ–","è¯­éŸ³å¤„ç†","DevOps","äº‹ä»¶é©±åŠ¨","æ•°æ®å·¥ç¨‹","é€šç”¨åŠ©æ‰‹","ä¸“ä¸šå¼€å‘","å†…å®¹åˆ›ä½œ","ç³»ç»Ÿå·¥å…·","äº‹ä»¶è§¦å‘","çŸ¥è¯†å·¥ä½œ","å¼€å‘è¿ç»´","å®¢æˆ·æœåŠ¡","Agent æ¨¡æ¿"],n=[{value:"popular",label:"ðŸ”¥ æœ€çƒ­"},{value:"trending",label:"ðŸ“ˆ Trending"},{value:"newest",label:"âœ¨ æœ€æ–°"},{value:"downloads",label:"ðŸ“¥ ä¸‹è½½æœ€å¤š"}];function o({initialAssets:e,initialTotal:o,initialAllAssets:d}){let i=(0,t.useSearchParams)(),c=i.get("q")||"",x=i.get("type")||"all",u=i.get("sort")||"popular",[m,b]=(0,s.useState)(c),[p,h]=(0,s.useState)(x&&("all"===x||["skill","config","plugin","trigger","channel","template"].includes(x))?x:"all"),[g,f]=(0,s.useState)("å…¨éƒ¨"),[j,v]=(0,s.useState)(n.some(e=>e.value===u)?u:"popular"),[N,y]=(0,s.useState)(e),[w,C]=(0,s.useState)(o),[k,S]=(0,s.useState)(!1),[A]=(0,s.useState)(d),[T,$]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=i.get("q")||"",l=i.get("type"),s=i.get("sort");e&&b(e),l&&("all"===l||["skill","config","plugin","trigger","channel","template"].includes(l))&&h(l),s&&n.some(e=>e.value===s)&&v(s)},[i]);let P=(0,s.useCallback)(()=>{S(!0);let e=new URLSearchParams;"all"!==p&&e.set("type",p),"å…¨éƒ¨"!==g&&e.set("category",g),m&&e.set("q",m),e.set("sort",j),e.set("pageSize","100"),fetch(`/api/assets?${e.toString()}`).then(e=>e.json()).then(e=>{e.success&&(y(e.data.assets),C(e.data.total))}).catch(()=>{}).finally(()=>S(!1))},[p,g,m,j]);(0,s.useEffect)(()=>{if(!T)return;let e=setTimeout(P,150);return()=>clearTimeout(e)},[P,T]);let L=e=>{b(e),$(!0)};return(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["æŽ¢ç´¢ ",(0,l.jsx)("span",{className:"text-blue",children:"Agent èµ„äº§"})]}),(0,l.jsx)("p",{className:"text-muted",children:"å‘çŽ°ç¤¾åŒºåˆ†äº«çš„ Skillsã€Configsã€Pluginsã€Triggersã€Channels å’Œ Templates"})]}),(0,l.jsxs)("div",{className:"mb-6 px-4 py-3 rounded-lg bg-blue/5 border border-blue/20 text-sm text-muted flex items-center gap-2",children:[(0,l.jsx)("span",{children:"ðŸ’¡"}),(0,l.jsxs)("span",{children:["æ‰€æœ‰èµ„äº§å‡æ”¯æŒ Agent ç›´è¯» â€” é€šè¿‡ ",(0,l.jsx)("code",{className:"px-1.5 py-0.5 rounded bg-surface border border-card-border text-blue font-mono text-xs",children:"GET /api/assets/:id/raw"})," èŽ·å–å®Œæ•´å†…å®¹ï¼Œæ— éœ€å®‰è£…"]})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,l.jsx)("input",{type:"text",placeholder:"æœç´¢ Skills, Configs, Plugins...",value:m,onChange:e=>L(e.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg bg-white border border-card-border text-foreground placeholder:text-muted focus:outline-none focus:border-blue/50 transition-colors"}),m&&(0,l.jsx)("button",{onClick:()=>L(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted hover:text-foreground transition-colors",children:"âœ•"})]}),(0,l.jsx)("select",{value:j,onChange:e=>{v(e.target.value),$(!0)},className:"px-4 py-3 rounded-lg bg-white border border-card-border text-foreground focus:outline-none focus:border-blue/50 transition-colors cursor-pointer",children:n.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,l.jsxs)("aside",{className:"lg:w-60 shrink-0",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"text-sm font-semibold text-muted uppercase tracking-wider mb-3",children:"èµ„äº§ç±»åž‹"}),(0,l.jsx)("div",{className:"space-y-1",children:[{value:"all",label:"å…¨éƒ¨",icon:""},{value:"template",label:"åˆé›†",icon:""},{value:"skill",label:"æŠ€èƒ½",icon:""},{value:"config",label:"é…ç½®",icon:""},{value:"plugin",label:"å·¥å…·",icon:""},{value:"trigger",label:"è§¦å‘å™¨",icon:""},{value:"channel",label:"é€šä¿¡å™¨",icon:""}].map(e=>(0,l.jsxs)("button",{onClick:()=>{h(e.value),$(!0)},className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all ${p===e.value?"bg-blue/10 text-blue border border-blue/30":"text-muted hover:bg-white hover:text-foreground border border-transparent"}`,children:[(0,l.jsx)("span",{children:e.icon}),(0,l.jsx)("span",{children:e.label}),(0,l.jsx)("span",{className:"ml-auto text-xs opacity-60",children:"all"===e.value?A.length:A.filter(l=>l.type===e.value).length})]},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-sm font-semibold text-muted uppercase tracking-wider mb-3",children:"åˆ†ç±»"}),(0,l.jsx)("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:a.map(e=>{let s="å…¨éƒ¨"===e?A.length:A.filter(l=>l.category===e).length;return"å…¨éƒ¨"!==e&&0===s?null:(0,l.jsxs)("button",{onClick:()=>{f(e),$(!0)},className:`w-full flex items-center justify-between px-3 py-1.5 rounded-lg text-sm transition-all ${g===e?"bg-white text-blue":"text-muted hover:bg-white hover:text-foreground"}`,children:[(0,l.jsx)("span",{children:e}),(0,l.jsx)("span",{className:"text-xs opacity-50",children:s})]},e)})})]})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,l.jsx)("span",{className:"text-sm text-muted",children:k?"åŠ è½½ä¸­...":(0,l.jsxs)(l.Fragment,{children:["æ‰¾åˆ° ",(0,l.jsx)("span",{className:"text-blue font-semibold",children:w})," ä¸ªèµ„äº§",m&&(0,l.jsxs)("span",{className:"ml-2",children:['Â· æœç´¢: "',m,'"']})]})})}),k?(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:Array.from({length:6}).map((e,s)=>(0,l.jsxs)("div",{className:"rounded-lg border border-card-border bg-white p-6 animate-pulse",children:[(0,l.jsx)("div",{className:"h-4 bg-surface rounded w-1/3 mb-4"}),(0,l.jsx)("div",{className:"h-5 bg-surface rounded w-2/3 mb-3"}),(0,l.jsx)("div",{className:"h-3 bg-surface rounded w-full mb-2"}),(0,l.jsx)("div",{className:"h-3 bg-surface rounded w-4/5"})]},s))}):N.length>0?(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:N.map(e=>(0,l.jsx)(r.AssetCard,{asset:e},e.id))}):(0,l.jsxs)("div",{className:"text-center py-20",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ”"}),(0,l.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"æœªæ‰¾åˆ°åŒ¹é…çš„èµ„äº§"}),(0,l.jsx)("p",{className:"text-muted",children:"è¯•è¯•è°ƒæ•´ç­›é€‰æ¡ä»¶æˆ–æœç´¢å…³é”®è¯"})]})]})]})]})}function d({initialAssets:e,initialTotal:t,initialAllAssets:r}){return(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["æŽ¢ç´¢ ",(0,l.jsx)("span",{className:"text-blue",children:"Agent èµ„äº§"})]}),(0,l.jsx)("p",{className:"text-muted",children:"åŠ è½½ä¸­..."})]})}),children:(0,l.jsx)(o,{initialAssets:e,initialTotal:t,initialAllAssets:r})})}e.s(["default",()=>d])}]);