(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84230,e=>{"use strict";function t(e){return e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}e.s(["formatDownloads",()=>t,"typeConfig",0,{template:{label:"åˆé›†",icon:"",color:"text-emerald-400",bgColor:"bg-emerald-400/10",borderColor:"border-emerald-400/30"},skill:{label:"æŠ€èƒ½",icon:"",color:"text-blue",bgColor:"bg-blue/10",borderColor:"border-blue/30"},config:{label:"é…ç½®",icon:"",color:"text-red",bgColor:"bg-red/10",borderColor:"border-red/30"},plugin:{label:"å·¥å…·",icon:"",color:"text-blue-400",bgColor:"bg-blue-400/10",borderColor:"border-blue-400/30"},trigger:{label:"è§¦å‘å™¨",icon:"",color:"text-cyan-400",bgColor:"bg-cyan-400/10",borderColor:"border-cyan-400/30"},channel:{label:"é€šä¿¡å™¨",icon:"",color:"text-purple-400",bgColor:"bg-purple-400/10",borderColor:"border-purple-400/30"}}])},19498,e=>{"use strict";var t=e.i(18050),s=e.i(71645),r=e.i(18566),l=e.i(22016),a=e.i(84230),d=e.i(94690);let o=["ä¿¡æ¯æŸ¥è¯¢","å¼€å‘å·¥å…·","åˆ›æ„ç”Ÿæˆ","æ•°æ®å¤„ç†","æ•ˆç‡å·¥å…·","è¯­è¨€å¤„ç†","åˆ›æ„è§’è‰²","æ•™è‚²è¾…å¯¼","å•†ä¸šé¡¾é—®","è¶£å‘³è§’è‰²","å­˜å‚¨å¼•æ“","é€šä¿¡é›†æˆ","åŸºç¡€è®¾æ–½","å®‰å…¨è®¤è¯","è‡ªåŠ¨åŒ–","è¯­éŸ³å¤„ç†","äº‹ä»¶è§¦å‘","çŸ¥è¯†å·¥ä½œ","å†…å®¹åˆ›ä½œ","å¼€å‘è¿ç»´","å®¢æˆ·æœåŠ¡","Agent æ¨¡æ¿"];function n({current:e,max:s}){let r=e/s;return(0,t.jsxs)("span",{className:`text-xs font-mono ${r>1?"text-red":r>.8?"text-amber-400":"text-muted"}`,children:[e,"/",s]})}function i(){let e=(0,r.useRouter)(),{user:i}=(0,d.useAuth)(),[c,x]=(0,s.useState)("skill"),[m,u]=(0,s.useState)("persona"),[b,p]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[f,j]=(0,s.useState)(""),[v,N]=(0,s.useState)(""),[y,w]=(0,s.useState)(""),[C,k]=(0,s.useState)(""),[S,$]=(0,s.useState)(""),[A,z]=(0,s.useState)(!1),[D,T]=(0,s.useState)(!1),[M,E]=(0,s.useState)("");(0,s.useEffect)(()=>{i&&!S&&$(i.id)},[i,S]);let P=(0,s.useMemo)(()=>v.split(",").map(e=>e.trim()).filter(Boolean).slice(0,5),[v]),R=b.trim().length>0&&h.trim().length>0&&f.trim().length>0&&f.length<=200&&b.length<=40,B=async t=>{if(t.preventDefault(),R&&!D){T(!0),E("");try{let t=await fetch("/api/assets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b.trim(),displayName:h.trim(),type:c,description:f.trim(),version:"1.0.0",longDescription:f.trim(),tags:P,category:C||void 0,readme:y.trim()||void 0,configSubtype:"config"===c?m:void 0,authorId:S.trim()||i?.id||void 0,authorName:i?.name||void 0,authorAvatar:i?.avatar||void 0})}),s=await t.json();if(!s.success){E(s.error||"å‘å¸ƒå¤±è´¥"),T(!1);return}z(!0),setTimeout(()=>{e.push(`/asset/${s.data.id}`)},1500)}catch{E("ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•"),T(!1)}}};return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["å‘å¸ƒ",(0,t.jsx)("span",{className:"text-blue",children:"èµ„äº§"})]}),(0,t.jsx)("p",{className:"text-muted",children:"åˆ†äº«ä½ çš„ Skillsã€Configs æˆ– Pluginsï¼Œè®©å…¨ä¸–ç•Œçš„ Agent å—ç›Š"})]}),i&&!i.inviteCode&&(0,t.jsxs)("div",{className:"mb-8 p-6 rounded-lg bg-amber-50 border border-amber-200 text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:"ğŸŸï¸"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-amber-800 mb-2",children:"éœ€è¦é‚€è¯·ç "}),(0,t.jsx)("p",{className:"text-sm text-amber-700 mb-4",children:"ä½ éœ€è¦å…ˆæ¿€æ´»é‚€è¯·ç æ‰èƒ½å‘å¸ƒèµ„äº§ã€‚é‚€è¯·ç å¯ä»¥ä»ç¤¾åŒºè·å–ã€‚"}),(0,t.jsx)(l.default,{href:"/settings",className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-lg bg-blue text-white text-sm font-medium hover:bg-blue-dim transition-colors",children:"ğŸŸï¸ å»æ¿€æ´»é‚€è¯·ç "})]}),(!i||i.inviteCode)&&(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,t.jsxs)("form",{onSubmit:B,className:"flex-1 space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider mb-3",children:"é€‰æ‹©èµ„äº§ç±»å‹"}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{value:"skill",label:"æŠ€èƒ½",icon:"",desc:"è®© Agent è·å¾—æ–°èƒ½åŠ›çš„æŠ€èƒ½åŒ…"},{value:"config",label:"é…ç½®",icon:"",desc:"å®šä¹‰ Agent äººæ ¼ä¸è¡Œä¸ºæ¨¡å¼"},{value:"plugin",label:"å·¥å…·",icon:"",desc:"æ‰©å±• Agent åŸºç¡€è®¾æ–½çš„å·¥å…·"},{value:"trigger",label:"è§¦å‘å™¨",icon:"",desc:"äº‹ä»¶ç›‘å¬ä¸æ¡ä»¶è§¦å‘æ¨¡æ¿"},{value:"channel",label:"é€šä¿¡å™¨",icon:"",desc:"è¿æ¥ Agent ä¸å¤–éƒ¨ä¸–ç•Œ"},{value:"template",label:"åˆé›†",icon:"",desc:"å®Œæ•´ Agent é…ç½®åˆé›†"}].map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>x(e.value),className:`p-4 rounded-lg border text-left transition-all ${c===e.value?`${a.typeConfig[e.value].bgColor} ${a.typeConfig[e.value].borderColor}`:"border-card-border bg-white hover:border-card-hover"}`,children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:e.icon}),(0,t.jsx)("div",{className:`font-semibold mb-1 ${c===e.value?a.typeConfig[e.value].color:"text-foreground"}`,children:e.label}),(0,t.jsx)("div",{className:"text-xs text-muted",children:e.desc})]},e.value))})]}),"config"===c&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider mb-3",children:"Config å­ç±»å‹"}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{value:"persona",label:"äººæ ¼",desc:"Agent äººæ ¼ä¸å¯¹è¯é£æ ¼"},{value:"routing",label:"è·¯ç”±",desc:"è¯·æ±‚è·¯ç”±ä¸åˆ†å‘è§„åˆ™"},{value:"model",label:"æ¨¡å‹",desc:"æ¨¡å‹é€‰æ‹©ä¸å‚æ•°é…ç½®"},{value:"scope",label:"æƒé™",desc:"è®¿é—®èŒƒå›´ä¸æƒé™ç­–ç•¥"}].map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>u(e.value),className:`p-3 rounded-lg border text-left transition-all ${m===e.value?"bg-red/10 border-red/30 text-red":"border-card-border bg-white hover:border-card-hover text-muted"}`,children:[(0,t.jsx)("div",{className:"text-sm font-semibold mb-0.5",children:e.label}),(0,t.jsx)("div",{className:"text-[10px] opacity-70",children:e.desc})]},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider",children:"ä¸­æ–‡åç§°"}),(0,t.jsx)(n,{current:h.length,max:60})]}),(0,t.jsx)("input",{type:"text",value:h,onChange:e=>g(e.target.value.slice(0,60)),placeholder:"ğŸ“‚ æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶ç›‘å¬å™¨",className:"w-full px-4 py-3 rounded-lg bg-white border border-card-border text-foreground placeholder:text-muted/50 focus:outline-none focus:border-blue/50 transition-colors"}),(0,t.jsx)("p",{className:"text-xs text-muted mt-1.5",children:"ç”¨æˆ·çœ‹åˆ°çš„åå­—ï¼Œæ”¯æŒ emoji å‰ç¼€"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider",children:["åŒ…å ",(0,t.jsx)("span",{className:"normal-case font-normal text-muted/60",children:"(Package Name)"})]}),(0,t.jsx)(n,{current:b.length,max:40})]}),(0,t.jsxs)("div",{className:"flex items-center gap-0 rounded-lg overflow-hidden border border-card-border bg-white focus-within:border-blue/50 transition-colors",children:[(0,t.jsxs)("span",{className:"px-4 py-3 bg-surface text-muted text-sm border-r border-card-border font-mono",children:["@",S||"username","/"]}),(0,t.jsx)("input",{type:"text",value:b,onChange:e=>p(e.target.value.replace(/[^a-z0-9-]/g,"").slice(0,40)),placeholder:"fs-event-trigger",className:"flex-1 px-4 py-3 bg-transparent text-foreground placeholder:text-muted/50 focus:outline-none font-mono text-sm"})]}),(0,t.jsx)("p",{className:"text-xs text-muted mt-1.5",children:"å°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦ï¼Œç”¨äºå®‰è£…å‘½ä»¤"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider",children:"Author ID"})}),(0,t.jsx)("input",{type:"text",value:S,onChange:e=>$(e.target.value.replace(/[^a-z0-9_-]/g,"").slice(0,40)),placeholder:"xiaoyue",className:"w-full px-4 py-3 rounded-lg bg-white border border-card-border text-foreground placeholder:text-muted/50 focus:outline-none focus:border-blue/50 transition-colors font-mono text-sm"}),(0,t.jsx)("p",{className:"text-xs text-muted mt-1.5",children:"ç”¨äºå”¯ä¸€æ ‡è¯†ä½œè€…èº«ä»½ï¼Œå¦‚ GitHub username"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider",children:"ç®€ä»‹"}),(0,t.jsx)(n,{current:f.length,max:200})]}),(0,t.jsx)("textarea",{value:f,onChange:e=>j(e.target.value.slice(0,220)),placeholder:"ä¸€å¥è¯æè¿°ä½ çš„èµ„äº§...",rows:2,className:`w-full px-4 py-3 rounded-lg bg-white border text-foreground placeholder:text-muted/50 focus:outline-none transition-colors resize-none ${f.length>200?"border-red/50 focus:border-red/70":"border-card-border focus:border-blue/50"}`})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider mb-2",children:"åˆ†ç±»"}),(0,t.jsxs)("select",{value:C,onChange:e=>k(e.target.value),className:"w-full px-4 py-3 rounded-lg bg-white border border-card-border text-foreground focus:outline-none focus:border-blue/50 transition-colors cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"é€‰æ‹©åˆ†ç±»..."}),o.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider",children:"æ ‡ç­¾"}),(0,t.jsx)(n,{current:v.length,max:100})]}),(0,t.jsx)("input",{type:"text",value:v,onChange:e=>N(e.target.value.slice(0,100)),placeholder:"ç”¨é€—å·åˆ†éš”ï¼Œä¾‹å¦‚: search, web, api",className:"w-full px-4 py-3 rounded-lg bg-white border border-card-border text-foreground placeholder:text-muted/50 focus:outline-none focus:border-blue/50 transition-colors"}),P.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1.5 mt-2",children:P.map(e=>(0,t.jsxs)("span",{className:"text-xs px-2 py-0.5 rounded bg-surface text-muted border border-card-border",children:["#",e]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider mb-2",children:"ä¸Šä¼ æ–‡ä»¶"}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-card-border rounded-lg p-8 text-center hover:border-blue/30 transition-colors cursor-pointer group",children:[(0,t.jsx)("div",{className:"text-4xl mb-3 group-hover:scale-110 transition-transform",children:"ğŸ“"}),(0,t.jsx)("p",{className:"text-sm text-muted mb-1",children:"æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„ï¼Œæˆ–ç‚¹å‡»é€‰æ‹©"}),(0,t.jsx)("p",{className:"text-xs text-muted/50",children:"æ”¯æŒ .zip, .tar.gz, .tgzï¼ˆæœ€å¤§ 50MBï¼‰"}),(0,t.jsx)("input",{type:"file",className:"hidden",accept:".zip,.tar.gz,.tgz"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-muted uppercase tracking-wider mb-2",children:"README (Markdown)"}),(0,t.jsx)("p",{className:"text-xs text-muted mb-2",children:"æ”¯æŒå®Œæ•´ Markdown è¯­æ³•ï¼ŒåŒ…æ‹¬è¡¨æ ¼ã€å›¾ç‰‡ã€ä»£ç å—"}),(0,t.jsx)("textarea",{value:y,onChange:e=>w(e.target.value),placeholder:`# ${h||"ä¸­æ–‡åç§°"}
${b?`**${b}**`:"**package-name**"} â€” ${h||"ä¸­æ–‡åç§°"}

## æ¦‚è¿°
æè¿°ä½ çš„èµ„äº§åšä»€ä¹ˆ...

## å®‰è£…
\`\`\`bash
seafood-market install ${c}/@${S||"username"}/${b||"package-name"}
\`\`\`

## ä½¿ç”¨æ–¹æ³•
...

## åŠŸèƒ½ç‰¹æ€§
| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| ... | ... |

## æˆªå›¾
![ç¤ºä¾‹](https://example.com/screenshot.png)`,rows:14,className:"w-full px-4 py-3 rounded-lg bg-white border border-card-border text-foreground placeholder:text-muted/50 focus:outline-none focus:border-blue/50 transition-colors resize-y font-mono text-sm"})]}),(0,t.jsxs)("div",{className:"space-y-3 pt-4",children:[M&&(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-red/10 border border-red/30 text-red text-sm",children:["âŒ ",M]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{type:"submit",disabled:!R||D,className:"flex-1 sm:flex-none px-8 py-3 rounded-md bg-blue text-white font-bold hover:bg-blue-dim transition-colors text-sm disabled:opacity-40 disabled:cursor-not-allowed",children:D?"â³ å‘å¸ƒä¸­...":A?"âœ“ å‘å¸ƒæˆåŠŸï¼":"ğŸš€ å‘å¸ƒèµ„äº§"}),(0,t.jsx)("button",{type:"button",className:"px-6 py-3 rounded-md border border-card-border text-muted hover:text-foreground hover:border-blue/30 transition-colors text-sm",children:"å­˜ä¸ºè‰ç¨¿"})]})]})]}),(0,t.jsx)("aside",{className:"lg:w-80 shrink-0",children:(0,t.jsxs)("div",{className:"sticky top-24",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-muted uppercase tracking-wider mb-3",children:"å®æ—¶é¢„è§ˆ"}),(0,t.jsxs)("div",{className:"rounded-lg border border-card-border bg-white p-5 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("span",{className:`text-xs px-2 py-0.5 rounded-full border ${a.typeConfig[c].bgColor} ${a.typeConfig[c].borderColor} ${a.typeConfig[c].color}`,children:[a.typeConfig[c].icon," ",a.typeConfig[c].label]}),(0,t.jsx)("span",{className:"text-xs text-muted font-mono",children:"v1.0.0"})]}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-1 text-blue",children:h||"ğŸ“¦ ä¸­æ–‡åç§°"}),b&&(0,t.jsxs)("div",{className:"text-xs font-mono text-muted/60 mb-2",children:["@",S||"username","/",b]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-3",children:[(0,t.jsx)("span",{className:"text-sm",children:"ğŸ¤–"}),(0,t.jsx)("span",{className:"text-xs text-muted",children:"CyberNova"})]}),(0,t.jsx)("p",{className:"text-sm text-muted mb-4 line-clamp-2 leading-relaxed",children:f||"åœ¨è¿™é‡Œè¾“å…¥ä½ çš„èµ„äº§ç®€ä»‹..."}),P.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[P.slice(0,3).map(e=>(0,t.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-surface text-muted border border-card-border",children:e},e)),P.length>3&&(0,t.jsxs)("span",{className:"text-xs px-2 py-0.5 text-muted",children:["+",P.length-3]})]}),b&&(0,t.jsxs)("div",{className:"mt-4 pt-3 border-t border-card-border",children:[(0,t.jsx)("div",{className:"text-[10px] text-muted mb-1",children:"å®‰è£…å‘½ä»¤"}),(0,t.jsxs)("code",{className:"text-xs font-mono text-blue bg-surface px-2 py-1 rounded block truncate",children:["seafood-market install ",c,"/@",S||"username","/",b]})]})]}),(0,t.jsxs)("div",{className:"mt-4 p-4 rounded-lg border border-card-border bg-white",children:[(0,t.jsx)("h4",{className:"text-xs font-semibold text-muted uppercase tracking-wider mb-3",children:"å‘å¸ƒæ£€æŸ¥"}),(0,t.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:b.trim()?"text-green-500":"text-muted",children:b.trim()?"âœ“":"â—‹"}),(0,t.jsx)("span",{className:b.trim()?"text-foreground":"text-muted",children:"åŒ…å"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:S.trim()?"text-green-500":"text-muted",children:S.trim()?"âœ“":"â—‹"}),(0,t.jsx)("span",{className:S.trim()?"text-foreground":"text-muted",children:"Author ID"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:h.trim()?"text-green-500":"text-muted",children:h.trim()?"âœ“":"â—‹"}),(0,t.jsx)("span",{className:h.trim()?"text-foreground":"text-muted",children:"ä¸­æ–‡åç§°"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:f.trim()&&f.length<=200?"text-green-500":f.length>200?"text-red":"text-muted",children:f.trim()&&f.length<=200?"âœ“":f.length>200?"âœ•":"â—‹"}),(0,t.jsx)("span",{className:f.trim()?"text-foreground":"text-muted",children:"ç®€ä»‹"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:C?"text-green-500":"text-muted",children:C?"âœ“":"â—‹"}),(0,t.jsx)("span",{className:C?"text-foreground":"text-muted",children:"åˆ†ç±»"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:P.length>0?"text-green-500":"text-muted",children:P.length>0?"âœ“":"â—‹"}),(0,t.jsx)("span",{className:P.length>0?"text-foreground":"text-muted",children:"æ ‡ç­¾"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:y.trim()?"text-green-500":"text-muted",children:y.trim()?"âœ“":"â—‹"}),(0,t.jsx)("span",{className:y.trim()?"text-foreground":"text-muted",children:"README"})]})]})]})]})})]}),A&&(0,t.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-paper/80 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"p-8 rounded-lg bg-white border border-blue/30 text-center max-w-md mx-4",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ğŸ‰"}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"å‘å¸ƒæˆåŠŸï¼"}),(0,t.jsx)("p",{className:"text-muted",children:"æ­£åœ¨è·³è½¬åˆ°èµ„äº§è¯¦æƒ…é¡µ..."})]})})]})}e.s(["default",()=>i])}]);